<!DOCTYPE html>
<html>
	
	<head>
		<title>Too Fast FamilyHD</title>
	</head>

	<body>
		<h1>Patata</h1>

		<main>
			<section id="characters">
				<ul id="characters-list">
				</ul>
			</section>
            <section id="items">
				<ul id="items-list">
				</ul>
			</section>
		</main>


<script>

fetch("/items").then( response => response.json()).then( data => WriteItemsList(data));
fetch("/characters").then( response => response.json()).then( data => WriteCharactersList(data));       

function WriteCharactersList(data){
	let text = "";
	for(let i = 0; i < data.length; i++){

		text += "<li>" + data[i].name +  "</li>";

	}
	document.getElementById("characters-list").innerHTML = text;
};

function WriteItemsList(data){
	let text = "";
	for(let i = 0; i < data.length; i++){

		text += "<li>" + data[i].name +  "</li>";

	}
	document.getElementById("items-list").innerHTML = text;
};

let CharactersInterval = setInterval(function(){

	fetch("/characters")
		.then( response => response.json())
		.then( data => WriteCharactersList(data));
	}, 2000);

 let ItemsInterval = setInterval(function(){

    fetch("/items")
        .then( response => response.json())
        .then( data => WriteItemsList(data));
    }, 2000);
</script>

	</body>

</html>
